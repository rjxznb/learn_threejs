<!DOCTYPE>
<html>
<head>
    <meta charset="UTF-8">
    <title>OrbitControls Example</title>
</head>
<body>
    <script type='importmap'>
    {
        "imports": {
            "three": "./three/build/three.module.js",
            "three/addons/": "./three/examples/jsm/"
        }
    }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);

        const geometry = new THREE.BoxGeometry();
        const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
        const cube = new THREE.Mesh(geometry, material);
        scene.add(cube);

        let pointLight = new THREE.PointLight(0xffffff, 3.0);
        pointLight.position.set(300, 0, 0); // 点光源放在x轴上
        pointLight.decay = 0.0; // 衰减系数
        scene.add(pointLight); // 点光源添加到场景中        

        let pointLightHelper = new THREE.PointLightHelper(pointLight, 10);
        scene.add(pointLightHelper);

        renderer.render(scene, camera);
        document.body.appendChild(renderer.domElement);


        // 设置相机控件轨道控制器OrbitControls
        const controls = new OrbitControls(camera, renderer.domElement);
        
        // 如果OrbitControls改变了相机参数，重新调用渲染器渲染三维场景
        controls.addEventListener('change', function () {
            renderer.render(scene, camera); //执行渲染操作
            
        });//监听鼠标、键盘事件

        animate();
    </script>
</body>

</html>