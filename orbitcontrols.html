<!DOCTYPE>
<html>
<head>
    <meta charset="UTF-8">
    <title>OrbitControls Example</title>
</head>
<body>
    <script type='importmap'>
    {
        "imports": {
            "three": "./three/build/three.module.js",
            "three/addons/": "./three/examples/jsm/"
        }
    }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);

        const geometry = new THREE.BoxGeometry();
        const material = new THREE.MeshLambertMaterial({ color: 0x00ff00 });
        const cube = new THREE.Mesh(geometry, material);
        scene.add(cube);

        let axesHelper = new THREE.AxesHelper(5);
        scene.add(axesHelper); // 添加坐标轴辅助对象

        // ；
        let spotLight = new THREE.SpotLight(0xffffff, 1.0);
        spotLight.position.set(100, 100, 100); // 设置光源位置
        spotLight.decay = 0.0;
        spotLight.target = cube
        scene.add(spotLight); // 添加光源到场景中；

        // 光源可视化；
        let spotLightHelper = new THREE.SpotLightHelper(spotLight);
        scene.add(spotLightHelper); // 添加光源可视化辅助对象

        renderer.render(scene, camera);
        document.body.appendChild(renderer.domElement);

        // 设置相机控件轨道控制器OrbitControls
        const controls = new OrbitControls(camera, renderer.domElement);
        
        // 如果OrbitControls改变了相机参数，重新调用渲染器渲染三维场景
        controls.addEventListener('change', function () {
            renderer.render(scene, camera); //执行渲染操作
            
        });//监听鼠标、键盘事件

    </script>
</body>

</html>